<?xml version="1.0" encoding="UTF-8"?>
<solver>
    <!-- Use FULL_ASSERT to turn on all debug warnings -->
    <environmentMode>REPRODUCIBLE</environmentMode>

    <!-- Use a RNG from commons-math to make results repeatable across JVMs -->
    <randomType>MERSENNE_TWISTER</randomType>

    <!-- Force the same initial random seed -->
    <randomSeed>0</randomSeed>

    <!-- Domain model configuration -->
    <solutionClass>com.suse.matcher.solver.Assignment</solutionClass>
    <entityClass>com.suse.matcher.solver.Match</entityClass>

    <!-- Score configuration -->
    <scoreDirectorFactory>
        <scoreDefinitionType>HARD_SOFT</scoreDefinitionType>
        <scoreDrl>rules/Scores.drl</scoreDrl>
        <initializingScoreTrend>ONLY_DOWN/ONLY_UP</initializingScoreTrend>
    </scoreDirectorFactory>

    <!-- Optimization algorithms configuration -->
    <constructionHeuristic>
        <constructionHeuristicType>FIRST_FIT</constructionHeuristicType>
    </constructionHeuristic>
    <localSearch>
        <!-- Generate next possible solutions by changing their values -->
        <changeMoveSelector />

        <!-- Generate 1000 solutions before selecting one for the next step -->
        <forager>
            <acceptedCountLimit>1000</acceptedCountLimit>
        </forager>

        <!-- Selection by highest score but also avoid recently-touched entities
             (this helps avoiding local optima). The list of those "taboo"
             entities should count at most 2% of the total entities -->
        <acceptor>
            <entityTabuRatio>0.02</entityTabuRatio>
        </acceptor>

        <termination>
            <!-- Terminate after 5 steps with no score improvement -->
            <unimprovedStepCountLimit>5</unimprovedStepCountLimit>
        </termination>
    </localSearch>
</solver>
